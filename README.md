# Notion Knowledge Graph

ê°œì¸ **Notion ë°ì´í„° + ì½”ë“œë² ì´ìŠ¤**ë¥¼ **ë²¡í„° DB + ê·¸ë˜í”„ DB**ë¡œ ë³€í™˜í•˜ì—¬ ìƒˆë¡œìš´ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°œê²¬í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ğŸ“Š í˜„ì¬ ìƒíƒœ

| ë°ì´í„° | í•­ëª© ìˆ˜ | ë²¡í„° | SIMILAR_TO ê´€ê³„ |
|--------|---------|------|-----------------|
| **Notion Pages** | 1,152 | âœ… 1024D | 1,743 |
| **Swift Files** | 2,255 | âœ… 1024D | 13,067 |
| **í•©ê³„** | 3,407 | âœ… | 14,810 |

```
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                  Notion Knowledge Graph              â”‚
                 â”‚                                                      â”‚
  Notion API     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
       â”‚         â”‚   â”‚ Extract â”‚â”€â”€â”€â–¶â”‚  Embed  â”‚â”€â”€â”€â–¶â”‚ Build Graph â”‚    â”‚
       â–¼         â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚        â”‚              â”‚                â”‚           â”‚
  â”‚ Pages  â”‚â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                â”‚           â”‚
  â”‚ Blocks â”‚     â”‚                       â–¼                â–¼           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
                 â”‚              â”‚   Qdrant     â”‚  â”‚   Neo4j     â”‚     â”‚
                 â”‚              â”‚ (Vector DB)  â”‚  â”‚ (Graph DB)  â”‚     â”‚
                 â”‚              â”‚  1024D BGE   â”‚  â”‚  Page nodes â”‚     â”‚
                 â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Relations  â”‚     â”‚
                 â”‚                      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                 â”‚                      â”‚                â”‚            â”‚
                 â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                 â”‚                               â–¼                    â”‚
                 â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
                 â”‚                     â”‚ Hybrid Search   â”‚            â”‚
                 â”‚                     â”‚ Vector + Graph  â”‚            â”‚
                 â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì£¼ìš” ê¸°ëŠ¥

- **Notion ë°ì´í„° ì¶”ì¶œ**: ëª¨ë“  í˜ì´ì§€ì™€ ë¸”ë¡ ì½˜í…ì¸ ë¥¼ JSONìœ¼ë¡œ ì €ì¥
- **ì½”ë“œë² ì´ìŠ¤ ì„ë² ë”©**: Swift/ObjC ì†ŒìŠ¤ì½”ë“œë¥¼ ë²¡í„°í™”í•˜ì—¬ ì˜ë¯¸ ê²€ìƒ‰
- **ë²¡í„° ì„ë² ë”©**: BGE-M3 (ë‹¤êµ­ì–´ ì§€ì›)ë¡œ 1024ì°¨ì› ë²¡í„° ìƒì„±
- **ì˜ë¯¸ ê¸°ë°˜ ìœ ì‚¬ë„**: ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¡œ ê´€ë ¨ í˜ì´ì§€/ì½”ë“œ ìë™ ì—°ê²°
- **ê·¸ë˜í”„ ì‹œê°í™”**: Neo4j Browserì—ì„œ ì§€ì‹ ê·¸ë˜í”„ íƒìƒ‰
- **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**: ë²¡í„° ê²€ìƒ‰ + ê·¸ë˜í”„ í™•ì¥

---

## ì•„í‚¤í…ì²˜

### ì „ì²´ ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DATA PIPELINE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   Phase 1: Extract                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  Notion  â”‚ â”€â”€â”€â–¶ â”‚ notion_export â”‚ â”€â”€â”€â–¶ â”‚  pages.json  â”‚           â”‚
â”‚   â”‚   API    â”‚      â”‚     .py       â”‚      â”‚  (raw data)  â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                    â”‚                   â”‚
â”‚   Phase 2: Embed                                   â–¼                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  BGE-M3  â”‚ â—€â”€â”€â”€ â”‚ vector_store  â”‚ â—€â”€â”€â”€ â”‚  pages.json  â”‚           â”‚
â”‚   â”‚  Model   â”‚      â”‚     .py       â”‚      â”‚              â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚        â”‚                   â”‚                                           â”‚
â”‚        â–¼                   â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚   â”‚         Qdrant            â”‚                                       â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                       â”‚
â”‚   â”‚   â”‚ notion_pages    â”‚    â”‚  â€¢ 1024D dense vectors                â”‚
â”‚   â”‚   â”‚ collection      â”‚    â”‚  â€¢ Cosine similarity                  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â€¢ Payload: title, url, preview       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                         â”‚
â”‚   Phase 3: Graph                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚  pages.json  â”‚ â”€â”€â–¶ â”‚ graph_builder â”‚ â”€â”€â–¶ â”‚    Neo4j     â”‚         â”‚
â”‚   â”‚              â”‚     â”‚     .py       â”‚     â”‚              â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                     â”‚                  â”‚
â”‚   Phase 4: Similarity                               â–¼                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚    Qdrant    â”‚ â”€â”€â–¶ â”‚  similarity   â”‚ â”€â”€â–¶ â”‚    Neo4j     â”‚         â”‚
â”‚   â”‚   vectors    â”‚     â”‚   _edges.py   â”‚     â”‚  SIMILAR_TO  â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ì„±ìš”ì†Œ | ê¸°ìˆ  | ì—­í•  |
|---------|------|------|
| **ë°ì´í„° ì†ŒìŠ¤** | Notion API | í˜ì´ì§€/ë¸”ë¡ ë°ì´í„° ì¶”ì¶œ |
| **ì„ë² ë”© ëª¨ë¸** | BGE-M3 (BAAI) | ë‹¤êµ­ì–´ í…ìŠ¤íŠ¸ â†’ 1024D ë²¡í„° |
| **ë²¡í„° DB** | Qdrant | ê³ ì† ìœ ì‚¬ë„ ê²€ìƒ‰ |
| **ê·¸ë˜í”„ DB** | Neo4j | ê´€ê³„ ì‹œê°í™” ë° ê·¸ë˜í”„ ì¿¼ë¦¬ |
| **ëŸ°íƒ€ì„** | Python 3.9+ | ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ |
| **ì»¨í…Œì´ë„ˆ** | Docker Compose | Qdrant, Neo4j ì‹¤í–‰ |

### ë…¸ë“œ ë° ê´€ê³„ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GRAPH SCHEMA                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Nodes:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ (:Page)                                               â”‚   â”‚
â”‚  â”‚   - id: string (Notion page ID)                      â”‚   â”‚
â”‚  â”‚   - title: string                                    â”‚   â”‚
â”‚  â”‚   - url: string                                      â”‚   â”‚
â”‚  â”‚   - wordCount: integer                               â”‚   â”‚
â”‚  â”‚   - blockCount: integer                              â”‚   â”‚
â”‚  â”‚   - createdAt: datetime                              â”‚   â”‚
â”‚  â”‚   - updatedAt: datetime                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ (:Date)                                               â”‚   â”‚
â”‚  â”‚   - date: string (YYYY-MM-DD)                        â”‚   â”‚
â”‚  â”‚   - year, month, day: integer                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  Relationships:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [:SIMILAR_TO]  - ë²¡í„° ìœ ì‚¬ë„ ê¸°ë°˜ (score >= 0.75)    â”‚   â”‚
â”‚  â”‚ [:LINKS_TO]    - Notion ë‚´ë¶€ ë§í¬                    â”‚   â”‚
â”‚  â”‚ [:CHILD_OF]    - ë¶€ëª¨-ìì‹ í˜ì´ì§€ ê´€ê³„               â”‚   â”‚
â”‚  â”‚ [:CREATED_ON]  - ìƒì„±ì¼ ì—°ê²°                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì„¤ì¹˜ ê°€ì´ë“œ

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.9 ì´ìƒ
- Docker & Docker Compose
- Notion Integration Token ([ìƒì„± ë°©ë²•](https://www.notion.so/my-integrations))

### 2. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/piatoss3612/notion-knowledge-graph.git
cd notion-knowledge-graph
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cp .env.example .env
```

`.env` íŒŒì¼ í¸ì§‘:
```env
# Notion API Token (í•„ìˆ˜)
NOTION_TOKEN=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Neo4j (í•„ìˆ˜)
NEO4J_PASSWORD=your_secure_password

# ì„ íƒì  ì„¤ì •
SIMILARITY_THRESHOLD=0.75
```

### 4. Docker ì„œë¹„ìŠ¤ ì‹¤í–‰

```bash
# Qdrant + Neo4j ì‹œì‘
docker-compose up -d

# ìƒíƒœ í™•ì¸
docker-compose ps
```

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ìš©ë„ |
|--------|------|------|
| Qdrant | 6333 (REST), 6334 (gRPC) | ë²¡í„° ì €ì¥/ê²€ìƒ‰ |
| Neo4j | 7474 (Browser), 7687 (Bolt) | ê·¸ë˜í”„ DB |

### 5. Python í™˜ê²½ ì„¤ì •

```bash
# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 6. Notion Integration ì—°ê²°

1. [Notion Integrations](https://www.notion.so/my-integrations) ì ‘ì†
2. "New integration" í´ë¦­
3. ì´ë¦„ ì…ë ¥, workspace ì„ íƒ
4. "Internal Integration Token" ë³µì‚¬ â†’ `.env`ì˜ `NOTION_TOKEN`ì— ë¶™ì—¬ë„£ê¸°
5. Notionì—ì„œ ê³µìœ í•  í˜ì´ì§€ë“¤ì— Integration ì—°ê²° (í˜ì´ì§€ ìš°ìƒë‹¨ Â·Â·Â· â†’ Connections â†’ Integration ì„ íƒ)

---

## ì‚¬ìš© ë°©ë²•

### Phase 1: Notion ë°ì´í„° ì¶”ì¶œ

```bash
python scripts/notion_exporter.py
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
============================================================
Notion Data Exporter
============================================================
Fetching all pages...
  [1] í”„ë¡œì íŠ¸ ê´€ë¦¬
  [2] ê°œë°œ ë…¸íŠ¸
  ...
Total pages fetched: 1152
Pages: 1152
Total Words: 131,881
Time: 245.3s
```

**ìƒì„± íŒŒì¼:** `data/pages.json`

### Phase 2: ë²¡í„° ì„ë² ë”©

```bash
python scripts/vector_store.py
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
Loading BGE-M3 model...
Connecting to Qdrant at localhost:6333...
Processing 1152 pages with content...
Embedding: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 288/288 [15:32<00:00]

Semantic Search Test
ğŸ” Query: "í”„ë¡œì íŠ¸ ê´€ë¦¬ ë°©ë²•"
  1. [0.823] ì• ìì¼ ìŠ¤í”„ë¦°íŠ¸ ê³„íš
  2. [0.791] ì—…ë¬´ ìš°ì„ ìˆœìœ„ ê²°ì •
```

### Phase 3: ê·¸ë˜í”„ êµ¬ì¶•

```bash
python scripts/graph_builder.py
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
Creating Page nodes...
Creating Relationships...

ğŸ“Š Node Statistics:
  Page: 1152
  Date: 242

ğŸ”— Relationship Statistics:
  CREATED_ON: 1152
  LINKS_TO: 203
  CHILD_OF: 44
```

### Phase 4: ìœ ì‚¬ë„ ê´€ê³„ ìƒì„±

```bash
python scripts/similarity_edges.py
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
Creating SIMILAR_TO edges from vector similarity...
Threshold: 0.75 (75%)
âœ… Created 1743 SIMILAR_TO relationships
```

### Phase 5: ì¸ì‚¬ì´íŠ¸ íƒìƒ‰

```bash
# ê·¸ë˜í”„ ì¸ì‚¬ì´íŠ¸
python scripts/explore_insights.py

# í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ í¬í•¨
python scripts/explore_insights.py --hybrid
```

---

## Neo4j ì¿¼ë¦¬ ê°€ì´ë“œ

### ê¸°ë³¸ ì ‘ì†

1. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:7474 ì ‘ì†
2. Username: `neo4j`, Password: `.env`ì—ì„œ ì„¤ì •í•œ ê°’

### ìœ ìš©í•œ Cypher ì¿¼ë¦¬

#### 1. ì „ì²´ ê·¸ë˜í”„ ìƒ˜í”Œ ë³´ê¸°
```cypher
MATCH (p:Page)-[r]->(other)
RETURN p, r, other
LIMIT 50
```

#### 2. í—ˆë¸Œ ë…¸ë“œ (ê°€ì¥ ë§ì€ ì—°ê²°)
```cypher
MATCH (p:Page)-[r:SIMILAR_TO]-(other:Page)
WITH p, count(r) as connections
ORDER BY connections DESC
LIMIT 1
MATCH (p)-[r:SIMILAR_TO]-(connected:Page)
RETURN p, r, connected
LIMIT 30
```

#### 3. íŠ¹ì • í‚¤ì›Œë“œë¡œ í˜ì´ì§€ ì°¾ê¸°
```cypher
MATCH (p:Page)
WHERE p.title CONTAINS 'í”„ë¡œì íŠ¸'
RETURN p.title, p.wordCount
ORDER BY p.wordCount DESC
```

#### 4. ê°•í•œ ìœ ì‚¬ë„ í´ëŸ¬ìŠ¤í„° (85% ì´ìƒ)
```cypher
MATCH (p1:Page)-[r:SIMILAR_TO]->(p2:Page)
WHERE r.score > 0.85
RETURN p1.title, p2.title, r.score
ORDER BY r.score DESC
LIMIT 20
```

#### 5. ê³ ë¦½ëœ í˜ì´ì§€ (ì—°ê²° ì—†ìŒ)
```cypher
MATCH (p:Page)
WHERE NOT (p)-[:SIMILAR_TO|LINKS_TO|CHILD_OF]-()
AND p.wordCount > 100
RETURN p.title, p.wordCount
ORDER BY p.wordCount DESC
```

#### 6. ì›”ë³„ ìƒì„± ì¶”ì´
```cypher
MATCH (p:Page)-[:CREATED_ON]->(d:Date)
WHERE d.year >= 2024
RETURN d.year, d.month, count(p) as pages
ORDER BY d.year, d.month
```

#### 7. íŠ¹ì • í˜ì´ì§€ ì£¼ë³€ íƒìƒ‰
```cypher
MATCH (center:Page {title: "í”„ë¡œì íŠ¸ ê´€ë¦¬"})
OPTIONAL MATCH (center)-[r:SIMILAR_TO]-(similar:Page)
RETURN center, r, similar
```

#### 8. 2-depth ì—°ê²° íƒìƒ‰
```cypher
MATCH path = (start:Page {title: "ê°œë°œ ê°€ì´ë“œ"})-[:SIMILAR_TO*1..2]-(related:Page)
RETURN path
LIMIT 50
```

#### 9. í˜ì´ì§€ ê³„ì¸µ êµ¬ì¡°
```cypher
MATCH path = (child:Page)-[:CHILD_OF*]->(parent:Page)
WHERE NOT ()-[:CHILD_OF]->(child)
RETURN path
LIMIT 20
```

#### 10. ì½˜í…ì¸ ê°€ í’ë¶€í•œ í˜ì´ì§€
```cypher
MATCH (p:Page)
WHERE p.wordCount > 1000
RETURN p.title, p.wordCount, p.blockCount
ORDER BY p.wordCount DESC
LIMIT 10
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
notion-knowledge-graph/
â”œâ”€â”€ README.md                 # ì´ íŒŒì¼
â”œâ”€â”€ docker-compose.yml        # Qdrant + Neo4j ì„¤ì •
â”œâ”€â”€ requirements.txt          # Python ì˜ì¡´ì„±
â”œâ”€â”€ .env.example             # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ notion_exporter.py   # Phase 1: Notion â†’ JSON
â”‚   â”œâ”€â”€ vector_store.py      # Phase 2: JSON â†’ Qdrant
â”‚   â”œâ”€â”€ graph_builder.py     # Phase 3: JSON â†’ Neo4j
â”‚   â”œâ”€â”€ similarity_edges.py  # Phase 4: Qdrant â†’ Neo4j (SIMILAR_TO)
â”‚   â”œâ”€â”€ explore_insights.py  # ì¸ì‚¬ì´íŠ¸ íƒìƒ‰
â”‚   â”œâ”€â”€ code_embedder.py     # Phase 5a: Code â†’ Qdrant
â”‚   â””â”€â”€ code_graph_builder.py # Phase 5b: Code â†’ Neo4j
â”‚
â””â”€â”€ data/                    # (git ì œì™¸) ì¶”ì¶œëœ ë°ì´í„°
    â”œâ”€â”€ pages.json
    â””â”€â”€ databases.json
```

---

## ì½”ë“œë² ì´ìŠ¤ ê·¸ë˜í”„ (Phase 5 âœ…)

### ë…¸ë“œ ë° ê´€ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CODE GRAPH SCHEMA                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Nodes:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ (:CodeFile)                                          â”‚   â”‚
â”‚  â”‚   - path: string (íŒŒì¼ ê²½ë¡œ)                         â”‚   â”‚
â”‚  â”‚   - name: string (íŒŒì¼ëª…)                            â”‚   â”‚
â”‚  â”‚   - module: string (ëª¨ë“ˆ/í´ë”)                       â”‚   â”‚
â”‚  â”‚   - lines: integer (ë¼ì¸ ìˆ˜)                         â”‚   â”‚
â”‚  â”‚   - size: integer (ë°”ì´íŠ¸)                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ (:Module)                                            â”‚   â”‚
â”‚  â”‚   - name: string (ëª¨ë“ˆëª…)                            â”‚   â”‚
â”‚  â”‚   - fileCount: integer                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚  Relationships:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [:SIMILAR_TO]  - ë²¡í„° ìœ ì‚¬ë„ (score >= 0.75)        â”‚   â”‚
â”‚  â”‚ [:BELONGS_TO]  - íŒŒì¼ â†’ ëª¨ë“ˆ ì†Œì†                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì½”ë“œ ê·¸ë˜í”„ ì‹¤í–‰

```bash
# Phase 5a: ì½”ë“œ ì„ë² ë”© (Qdrant)
python scripts/code_embedder.py --repo /path/to/your/codebase

# Phase 5b: ê·¸ë˜í”„ êµ¬ì¶• (Neo4j)
python scripts/code_graph_builder.py
```

### ì½”ë“œ ì¿¼ë¦¬ ì˜ˆì œ (Neo4j Browser)

#### 1. í—ˆë¸Œ íŒŒì¼ (ê°€ì¥ ë§ì´ ì—°ê²°ëœ ì½”ë“œ)
```cypher
MATCH (c:CodeFile)-[r:SIMILAR_TO]-()
RETURN c.name, c.module, count(r) as connections
ORDER BY connections DESC
LIMIT 15
```

#### 2. ê³ ìœ ì‚¬ë„ íŒŒì¼ ìŒ (ì¤‘ë³µ ì˜ì‹¬, 95%+)
```cypher
MATCH (c1:CodeFile)-[r:SIMILAR_TO]->(c2:CodeFile)
WHERE r.score > 0.95
RETURN c1.name, c2.name, r.score
ORDER BY r.score DESC
LIMIT 20
```

#### 3. íŠ¹ì • íŒŒì¼ê³¼ ìœ ì‚¬í•œ ì½”ë“œ
```cypher
MATCH (c:CodeFile {name: "LoginViewController.swift"})-[r:SIMILAR_TO]->(similar:CodeFile)
RETURN similar.name, similar.module, r.score
ORDER BY r.score DESC
LIMIT 10
```

#### 4. ëª¨ë“ˆë³„ íŒŒì¼ ìˆ˜
```cypher
MATCH (c:CodeFile)
RETURN c.module, count(*) as files
ORDER BY files DESC
```

#### 5. íŠ¹ì • ëª¨ë“ˆ ë‚´ ìœ ì‚¬ í´ëŸ¬ìŠ¤í„°
```cypher
MATCH (c1:CodeFile)-[r:SIMILAR_TO]->(c2:CodeFile)
WHERE c1.module = "Views" AND c2.module = "Views"
AND r.score > 0.85
RETURN c1, r, c2
LIMIT 50
```

#### 6. Reactor íŒ¨í„´ íŒŒì¼ ë„¤íŠ¸ì›Œí¬
```cypher
MATCH (c1:CodeFile)-[r:SIMILAR_TO]->(c2:CodeFile)
WHERE c1.name CONTAINS "Reactor" AND c2.name CONTAINS "Reactor"
AND r.score > 0.8
RETURN c1, r, c2
LIMIT 40
```

#### 7. ëª¨ë“ˆ ê°„ ì—°ê²° (Views â†” ViewControllers)
```cypher
MATCH (v:CodeFile)-[r:SIMILAR_TO]->(vc:CodeFile)
WHERE v.module = "Views" AND vc.module = "View Controllers"
AND r.score > 0.8
RETURN v, r, vc
LIMIT 30
```

---

## í–¥í›„ ê³„íš

### ì„ íƒì  í™•ì¥

- [ ] **MCP ì„œë²„ ì—°ë™**: Claude Codeì—ì„œ ì§ì ‘ ê·¸ë˜í”„ ì¿¼ë¦¬
- [ ] **ê°œë… ë…¸ë“œ ì¶”ì¶œ**: LLMìœ¼ë¡œ ì£¼ìš” ê°œë… ì¶”ì¶œ â†’ Concept ë…¸ë“œ
- [ ] **ìë™ ë™ê¸°í™”**: Notion ë³€ê²½ ì‹œ ìë™ ì—…ë°ì´íŠ¸ (Webhook)
- [ ] **Neo4j Bloom**: ê³ ê¸‰ ì‹œê°í™” ëŒ€ì‹œë³´ë“œ
- [ ] **Notion â†” Code ì—°ê²°**: ê¸°íš ë¬¸ì„œì™€ ì½”ë“œ íŒŒì¼ ë§¤í•‘

---

## ë¼ì´ì„ ìŠ¤

MIT License

---

## ê¸°ì—¬

Issueì™€ PR í™˜ì˜í•©ë‹ˆë‹¤!
